<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouCanSpinMyWheel</title>
  <link rel="icon" type="image/png" href="asset/images/others/favicon.png">
  
  <!-- Styles modulaires -->
  <link rel="stylesheet" href="asset/css/base.css">
  <link rel="stylesheet" href="asset/css/utilities.css">
  <link rel="stylesheet" href="asset/css/layout.css">
  <link rel="stylesheet" href="asset/css/components.css">
  <link rel="stylesheet" href="asset/css/modals.css">
  <link rel="stylesheet" href="asset/css/responsive.css">
  <link rel="stylesheet" href="asset/css/fullscreen.css">
</head>


<body>
  <!-- Layout principal -->
  <div class="app-layout">
    
    <!-- Boutons fixes en haut Ã  droite -->
    <div class="top-right-buttons">
      <button id="undo-btn" class="fixed-round-btn btn-undo-redo" aria-label="Annuler (Ctrl+Z)" title="Annuler (Ctrl+Z)">
        â†¶
      </button>
      <button id="redo-btn" class="fixed-round-btn btn-undo-redo" aria-label="Refaire (Ctrl+Y)" title="Refaire (Ctrl+Y)">
        â†·
      </button>
      <button class="fullscreen-btn fixed-round-btn" id="fullscreen-toggle" aria-label="Mode plein Ã©cran">
        â›¶
      </button>
    </div>
    
    <button id="mobile-menu-btn" class="fixed-round-btn" aria-label="Menu mobile">
      â˜°
    </button>
    <div id="mobile-menu-overlay" class="overlay" aria-hidden="true"></div>

    <!-- Contenu principal -->
    <main class="main-content">
      
      <!-- Panneau gauche : Roues sauvegardÃ©es -->
      <aside class="left-panel side-panel panel-glass" aria-label="Roues sauvegardÃ©es">
        <!-- Liste des roues sauvegardÃ©es -->
        <ul class="saved-wheels" role="list">
          <!-- Template pour les roues sauvegardÃ©es -->
          <li class="wheel-list-item saved-wheel" role="listitem">
            <span class="saved-wheel-name" contenteditable="plaintext-only" aria-label="Nom de la roue">Roue</span>
            <div class="saved-wheel-actions saved-wheel-actions-little">
              <button class="saved-wheel-btn btn-little" aria-label="Charger cette roue" title="Charger">
                <img src="asset/images/buttons/load.png" alt="">
              </button>
              <button class="saved-wheel-btn btn-little" aria-label="Supprimer cette roue" title="Supprimer">
                <img src="asset/images/buttons/delete.png" alt="">
              </button>
            </div>
          </li>
        </ul>

        <!-- Compteur de roues -->
        <div class="panel-counter" id="wheels-counter">
          <span class="counter-label">Roues sauvegardÃ©es:</span>
          <span class="counter-value">0</span>
        </div>

        <!-- Actions principales -->
        <div class="saved-wheel-actions">
          <button id="save-wheel" class="saved-wheel-btn" aria-label="Sauvegarder la roue" title="Sauvegarder">
            <img src="asset/images/buttons/save.png" alt="">
          </button>
          <button id="add-new-wheel" class="saved-wheel-btn" aria-label="CrÃ©er une nouvelle roue" title="Nouvelle roue">
            <img src="asset/images/buttons/add.png" alt="">
          </button>
        </div>

        <!-- Import/Export -->
        <div class="saved-wheel-actions">
          <button id="import-wheel" class="saved-wheel-btn" aria-label="Importer une roue">
            <img src="asset/images/buttons/import.png" alt="">
          </button>
          <button id="export-wheel" class="saved-wheel-btn" aria-label="Exporter la roue">
            <img src="asset/images/buttons/export.png" alt="">
          </button>
        </div>
      </aside>

      <!-- Panneau central : La roue -->
      <section class="main-panel" aria-label="Roue principale">
        
        <!-- Titre de la roue -->
        <div class="wheel-title image-zoom-container" role="img" aria-label="Titre de la roue"></div>

        <!-- La roue et l'aiguille -->
        <div id="wheel-wrapper" class="wheel-wrapper" role="img" aria-label="Roue de la fortune">
          <div id="needle" class="needle" aria-hidden="true">
            <img src="asset/images/others/needle.png" alt="">
        </div>
          <canvas id="wheel" class="wheel" aria-label="Canvas de la roue"></canvas>
        </div>

        <!-- Bouton Spin -->
        <button id="spin" class="button-spin-it" aria-label="Faire tourner la roue" tabindex="0"></button>
      </section>

      <!-- Panneau droit : Options -->
      <aside class="side-panel right-panel panel-glass" aria-label="Options de la roue">
        <!-- Input pour ajouter des options -->
        <div id="input-wrapper" class="input-wrapper">
          <label for="entry-input" class="sr-only">Ajouter une option</label>
          <input 
            id="entry-input" 
            type="text" 
            class="entry-input" 
            placeholder="Ajoutes des DRAMAAAS & appuie sur EntrÃ©e"
            aria-label="Ajouter une option Ã  la roue"
          />
      </div>

        <!-- Slider de suspense -->
        <div id="suspense-slider-container" class="suspense-slider-container" style="display: none;" role="group" aria-labelledby="suspense-label">
          <label for="suspense-slider" class="suspense-label" id="suspense-label">
            Suspense: <span id="suspense-value" aria-live="polite">x1</span>
          </label>
          <input 
            type="range" 
            id="suspense-slider" 
            class="suspense-slider" 
            min="1" 
            max="5" 
            value="1" 
            step="1"
            aria-label="Niveau de suspense"
          />
        </div>

        <!-- Liste des options -->
        <ul class="wheel-list wheel-options-list" role="list">
          <!-- Template pour les options -->
          <li class="wheel-list-item wheel-option-item" role="listitem">
            <span class="wheel-option-name" contenteditable="plaintext-only" aria-label="Nom de l'option">Toto</span>
            <div class="saved-wheel-actions">
              <div class="saved-wheel-actions-inner">
                <input 
                  id="wheel-option-checkbox-booster" 
                  type="checkbox" 
                  class="wheel-option-checkbox"
                  aria-label="Activer le booster pour cette option"
                />
                <label for="wheel-option-checkbox-booster" class="wheel-option-checkbox-label">
                  <img src="asset/images/buttons/cheatcode.png" alt="x2"> 
                  x2
                </label>
              </div>
              <button class="saved-wheel-btn btn-little" aria-label="Supprimer cette option" title="Supprimer">
                <img src="asset/images/buttons/delete.png" alt="Supprimer">
              </button>
            </div>
          </li>
        </ul>

        <!-- Compteur d'options -->
        <div class="panel-counter" id="options-counter">
          <span class="counter-label">Dramas en cours:</span>
          <span class="counter-value">0</span>
        </div>

        <!-- Dernier rÃ©sultat -->
        <div class="panel-counter" id="last-result-counter">
          <span class="counter-label">Dernier rÃ©sultat:</span>
          <span class="counter-value" id="last-result-value">-</span>
        </div>

        <!-- Message quand la liste est vide -->
        <div class="wheel-options-empty" id="wheel-options-empty" role="status" aria-live="polite">
          Mmmmh, Ã§a manque de dramas par ici...
      </div>
      </aside>
    </main>
    <!-- Modal de rÃ©sultat -->
    <div id="result" role="dialog" aria-modal="true" aria-labelledby="result-text">
      <button id="result-close" class="result-close" aria-label="Fermer le rÃ©sultat" title="Fermer">
        âœ•
      </button>
      <div id="result-text" role="status" aria-live="assertive">
        <div class="result-emojis">ğŸ¥’ğŸ‘ğŸ¤ŒğŸ”¥</div>
        <span class="result-winner"></span>
        <div class="result-emojis">ğŸ”¥ğŸ¤ŒğŸ‘ğŸ¥’</div>
      </div>
      <button id="result-remove" class="result-remove btn-press-effect" aria-label="Retirer cette option de la roue" title="Retirer">
        <img src="asset/images/buttons/remove.png" alt="">
      </button>
    </div>

    <!-- Modal de confirmation (modifications non sauvegardÃ©es) -->
    <div id="unsaved-changes-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="unsaved-modal-title" style="display: none;">
      <div class="modal-content">
        <h3 id="unsaved-modal-title" class="modal-title">Modifications non sauvegardÃ©es</h3>
        <p class="modal-message">Voulez-vous vraiment ne pas sauvegarder les modifications ?</p>
        <div class="modal-buttons">
          <button id="modal-save-btn" class="modal-btn modal-btn-save">Sauvegarder</button>
          <button id="modal-discard-btn" class="modal-btn modal-btn-discard">Ne pas sauvegarder</button>
          <button id="modal-cancel-btn" class="modal-btn modal-btn-cancel">Annuler</button>
  </div>
      </div>
    </div>
  </div>

  <!-- Bouton home -->
  <a id="home-btn" href="https://youcanspinmywheel.github.io/bonchouranh/" aria-label="Retour Ã  l'accueil">
    <img src="asset/images/buttons/home.png" alt="Home" class="home-img home-default">
    <img src="asset/images/buttons/home-over.png" alt="Home" class="home-img home-hover">
  </a>

  <!-- Bouton d'ouverture du panneau d'informations -->
  <button id="note-tab" aria-label="Ouvrir le panneau d'informations">
    <img src="asset/images/others/note-tab.png" alt="">
  </button>

  <!-- Panneau d'informations -->
  <div id="side-note-overlay" class="overlay" aria-hidden="true"></div>
  <aside id="side-note" role="complementary" aria-label="Informations et aide">
    <button id="side-note-close" aria-label="Fermer le panneau d'informations" title="Fermer">
      âœ•
    </button>
    <div class="note-content">
      <div class="compact-info">

               <!-- Introduction -->
        <div class="compact-intro">
            Les PÃªches aiment les <strong>DRAMAS</strong>. Les PÃªches aiment les <strong>ROUES</strong>. Et comme tu es notre <strong>Kween</strong>, on a dÃ©cidÃ©, pour cette nouvelle Ã©dition du Kalendrier, de te crÃ©er un mini-site qui mÃ©lange les deux !
            <br>
            <br>Avec amour,
            <br>
            <strong>MylittleponyOh, GawiÃ¨ne & les PÃªches âœ¨</strong>
          <br>
        </div>

        <!-- Sections d'information -->
        <details class="info-item">
          <summary>ğŸ–‹ï¸ LES DRAMAS</summary>
          <div class="info-item-text">
            Chaque input (ou plutÃ´t chaque DRAMA) est entiÃ¨rement modifiable et supprimable Ã  tout moment. Chaque entrÃ©e est prise en compte une seule fois dans le tirageâ€¦ sauf si tu dÃ©cides de <s>tricher</s> "spice it up".
        </div>
        </details>

        <details class="info-item">
          <summary>ğŸŒ¡ï¸ LE CHEATCODE "C'est un jeu dangereux"</summary>
          <div class="info-item-text">
Tu veux quâ€™un drama ait plus dâ€™impact dans le tirage ? Coche la case CHEATCODE pour lui donner x2 plus de chance d'Ãªtre tirÃ© au sort. Non nonâ€¦ ce nâ€™est pas de la triche, câ€™est de la âœ¨stratÃ©gie.âœ¨        </div>
          <div class="info-item-img">
            <img src="asset/images/buttons/cheatcode.png" alt="IcÃ´ne Cheatcode">
        </div>
        </details>
        
        <details class="info-item">
          <summary>âš¡ï¸ LE SLIDER "Suspense"</summary>
          <div class="info-item-text">
            <strong>Quand on veut des Dramas, le suspense est toujours lÃ  !</strong>
            <br>Ajuste le slider pour que chaque drama de ta liste soit multipliÃ© jusquâ€™Ã  5 fois. Chaotiques, nous ? 
        </div>
        </details>

        <details class="info-item">
          <summary>ğŸ’¾ LE SYSTEME DE SAUVEGARDE</summary>
          <div class="info-item-text">
            Fini les roues perdues dans la nature : mÃªme si tu fermes la page, tu retrouveras toutes tes sauvegardes. Tu peux charger, renommer ou supprimer tes roues Ã  tout moment. 
        </div>
          <div class="info-item-img">
            <img src="asset/images/buttons/save.png" alt="IcÃ´ne Sauvegarder">
            <img src="asset/images/buttons/load.png" alt="IcÃ´ne Charger">
            <img src="asset/images/buttons/delete.png" alt="IcÃ´ne Supprimer">
          </div>
        </details>
        
        <details class="info-item">
          <summary>â†•ï¸ IMPORTE & EXPORTE TES ROUES</summary>
          <div class="info-item-text">
            Comme on est dans le partage, on s'est dit qu'importer ou exporter des roues faites par nos jolies <strong>PÃªches</strong> Ã§a pouvait Ãªtre vraiment chouette. Alors on l'a ajoutÃ©. 
            <br>
            <br><strong>Exporter</strong>
            <br> Choisis la roue Ã  exporter (soit la roue actuelle, ou charge une roue sauvegardÃ©e ).
            <br><strong>1.</strong> Clique sur <strong>Export A Wheel</strong> (le texte est automatiquement copiÃ© dans ton presse-papier).
            <br><strong>2.</strong>Partage le Ã  la PÃªche de ton choix. 
            <br>
            <br><strong>Importer</strong>
            <br><strong>1.</strong> Copie le texte qu'on t'a envoyÃ© (le texte est maintenant dans ton presse-papier)
            <br><strong>2.</strong>Clique sur <strong>Import a wheel</strong>.
            <br><strong>3.</strong>La nouvelle roue est importÃ©e dans ta liste de roues & elle est prÃªte Ã  tourner ! 
        </div>
          <div class="info-item-img">
            <img src="asset/images/buttons/import.png" alt="IcÃ´ne Importer">
            <img src="asset/images/buttons/export.png" alt="IcÃ´ne Exporter">
          </div>
        </details>

        <details class="info-item">
          <summary>â˜¸ï¸ SPIN IT !!!</summary>
          <div class="info-item-text">
            Fais tourner la roue autant de fois que tu veux et ajoute de nouveaux inputs mÃªme aprÃ¨s un spin.
        </div>
        </details>

        <details class="info-item">
          <summary>â†¶â†· UNDO / REDO</summary>
          <div class="info-item-text">
            Tu as fait une erreur ? Pas de panique ! Utilise les boutons <strong>â†¶ (Annuler)</strong> et <strong>â†· (Refaire)</strong> ou les raccourcis clavier <strong>Ctrl+Z</strong> et <strong>Ctrl+Y</strong> pour revenir en arriÃ¨re ou refaire une action.
        </div>
        </details>

        <details class="info-item">
          <summary>â‡… RÃ‰ORGANISER LES OPTIONS</summary>
          <div class="info-item-text">
            Tu peux rÃ©organiser tes dramas par glisser-dÃ©poser ! Clique sur une option, maintiens le clic et dÃ©place-la oÃ¹ tu veux dans la liste.
        </div>
        </details>

        <details class="info-item">
          <summary>ğŸ“œ DERNIER RÃ‰SULTAT</summary>
          <div class="info-item-text">
            Le dernier rÃ©sultat de ton tirage est affichÃ© dans le panneau de droite pour que tu puisses le consulter facilement.
        </div>
        </details>

        <details class="info-item">
          <summary>ğŸ‘ VOUS VOULEZ UN PEU DE COMPAGNIE ?</summary>
          <div class="info-item-text">
            Parfois, se sentir seul devant sa roue, c'est triste. Heureusement, on a pensÃ© Ã  tout. Cliquez ici pour invoquer une amie (un peu collante).
            <div style="text-align: center; margin-top: 15px;">
              <button id="companion-btn" aria-label="Invoquer le compagnon" title="Compagnon" style="position: static; margin: 0 auto;">
                ğŸ‘
              </button>
            </div>
        </div>
        </details>

      </div>
    </div>
  </aside>

  <!-- Scripts modulaires -->
  <script src="asset/js/config.js"></script>
  <script src="asset/js/utils.js"></script>
  <script src="asset/js/wheel.js"></script>
  <script src="asset/js/controllers.js"></script>
  <script src="asset/js/saved-wheels-manager.js"></script>
  <script src="asset/js/history-manager.js"></script>
  <script src="asset/js/drag-drop-manager.js"></script>
  <script src="asset/js/results-history.js"></script>
  <script src="asset/js/companion.js"></script>
  <script src="asset/js/app.js"></script>

</body>

</html>
